"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[656],{3905:(e,t,i)=>{i.d(t,{Zo:()=>d,kt:()=>m});var n=i(7294);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):l(l({},t),e)),i},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},I={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var i=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),p=c(i),m=a,u=p["".concat(s,".").concat(m)]||p[m]||I[m]||o;return i?n.createElement(u,l(l({ref:t},d),{},{components:i})):n.createElement(u,l({ref:t},d))}));function m(e,t){var i=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=i.length,l=new Array(o);l[0]=p;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:a,l[1]=r;for(var c=2;c<o;c++)l[c]=i[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,i)}p.displayName="MDXCreateElement"},5162:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(7294),a=i(6010);const o="tabItem_Ymn6";function l(e){let{children:t,hidden:i,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,a.Z)(o,l),hidden:i},t)}},5488:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(7462),a=i(7294),o=i(6010),l=i(2389),r=i(7392),s=i(7094),c=i(2466);const d="tabList__CuJ",I="tabItem_LNqP";function p(e){var t;const{lazy:i,block:l,defaultValue:p,values:m,groupId:u,className:g}=e,M=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),N=m??M.map((e=>{let{props:{value:t,label:i,attributes:n}}=e;return{value:t,label:i,attributes:n}})),h=(0,r.l)(N,((e,t)=>e.value===t.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const k=null===p?p:p??(null==(t=M.find((e=>e.props.default)))?void 0:t.props.value)??M[0].props.value;if(null!==k&&!N.some((e=>e.value===k)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${k}" but none of its children has the corresponding value. Available values are: ${N.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:j,setTabGroupChoices:b}=(0,s.U)(),[D,y]=(0,a.useState)(k),x=[],{blockElementScrollPositionUntilNextRender:w}=(0,c.o5)();if(null!=u){const e=j[u];null!=e&&e!==D&&N.some((t=>t.value===e))&&y(e)}const Z=e=>{const t=e.currentTarget,i=x.indexOf(t),n=N[i].value;n!==D&&(w(t),y(n),null!=u&&b(u,String(n)))},T=e=>{var t;let i=null;switch(e.key){case"ArrowRight":{const t=x.indexOf(e.currentTarget)+1;i=x[t]??x[0];break}case"ArrowLeft":{const t=x.indexOf(e.currentTarget)-1;i=x[t]??x[x.length-1];break}}null==(t=i)||t.focus()};return a.createElement("div",{className:(0,o.Z)("tabs-container",d)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":l},g)},N.map((e=>{let{value:t,label:i,attributes:l}=e;return a.createElement("li",(0,n.Z)({role:"tab",tabIndex:D===t?0:-1,"aria-selected":D===t,key:t,ref:e=>x.push(e),onKeyDown:T,onFocus:Z,onClick:Z},l,{className:(0,o.Z)("tabs__item",I,null==l?void 0:l.className,{"tabs__item--active":D===t})}),i??t)}))),i?(0,a.cloneElement)(M.filter((e=>e.props.value===D))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},M.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==D})))))}function m(e){const t=(0,l.Z)();return a.createElement(p,(0,n.Z)({key:String(t)},e))}},8028:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>h,contentTitle:()=>M,default:()=>b,frontMatter:()=>g,metadata:()=>N,toc:()=>k});var n=i(7462),a=(i(7294),i(3905)),o=i(5488),l=i(5162);const r={toc:[]};function s(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},r,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"UML sequence diagram",src:i(8697).Z,width:"1167",height:"831"})))}s.isMDXComponent=!0;const c={toc:[]};function d(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"UML sequence diagram",src:i(6771).Z,width:"939",height:"682"})))}d.isMDXComponent=!0;const I={toc:[]};function p(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},I,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"UML sequence diagram",src:i(2066).Z,width:"819",height:"743"})))}p.isMDXComponent=!0;const m={toc:[]};function u(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"UML sequence diagram",src:i(945).Z,width:"575",height:"536"})))}u.isMDXComponent=!0;const g={},M="Internals API",N={unversionedId:"api/internals",id:"api/internals",title:"Internals API",description:"This section might be more volatile than the other ones, yet we'll do our",source:"@site/../docs/api/internals.mdx",sourceDirName:"api",slug:"/api/internals",permalink:"/Detox/docs/next/api/internals",draft:!1,editUrl:"https://github.com/wix/Detox/edit/master/docs/../docs/api/internals.mdx",tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"Logger",permalink:"/Detox/docs/next/api/logger"},next:{title:"Design Principles",permalink:"/Detox/docs/next/articles/design-principles"}},h={},k=[{value:"Lifecycle",id:"lifecycle",level:2},{value:"Jest lifecycle",id:"jest-lifecycle",level:3},{value:"Detox lifecycle",id:"detox-lifecycle",level:3},{value:"Methods",id:"methods",level:2},{value:"<code>resolveConfig([options])</code> [Promise]",id:"resolveconfigoptions-promise",level:3},{value:"<code>getStatus()</code> [enum]",id:"getstatus-enum",level:3},{value:"<code>init([options])</code> [Promise]",id:"initoptions-promise",level:3},{value:"<code>installWorker([options])</code> [Promise]",id:"installworkeroptions-promise",level:3},{value:"<code>uninstallWorker()</code> [Promise]",id:"uninstallworker-promise",level:3},{value:"<code>cleanup()</code> [Promise]",id:"cleanup-promise",level:3},{value:"Optional lifecycle",id:"optional-lifecycle",level:2},{value:"Synchronizing with artifacts manager",id:"synchronizing-with-artifacts-manager",level:3},{value:"Reporting test results",id:"reporting-test-results",level:3},{value:"Properties",id:"properties",level:2},{value:"config",id:"config",level:3},{value:"session",id:"session",level:3},{value:"log",id:"log",level:3},{value:"<code>tracing</code>",id:"tracing",level:3},{value:"worker",id:"worker",level:3}],j={toc:k};function b(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},j,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"internals-api"},"Internals API"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"This section might be more volatile than the other ones, yet we'll do our\nbest to adhere to Semantic Release standards even here.")),(0,a.kt)("p",null,"Detox Internals might be useful for developing advanced enterprise presets\nor if you are planning to integrate with a third-party test runner like\n",(0,a.kt)("a",{parentName:"p",href:"https://mochajs.org"},"Mocha"),", ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/avajs/ava"},"Ava"),", ",(0,a.kt)("a",{parentName:"p",href:"https://vitest.dev"},"Vitest")," or other ones."),(0,a.kt)("h2",{id:"lifecycle"},"Lifecycle"),(0,a.kt)("p",null,"It is a good idea to illustrate it using our own integration with Jest test runner, but before we start, let's see how Jest works overall:"),(0,a.kt)("h3",{id:"jest-lifecycle"},"Jest lifecycle"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"UML sequence diagram",src:i(1183).Z,width:"717",height:"594"})),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Jest's main process starts from resolving and evaluating its config file, e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"jest.config.js"),":"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = async function () {\n  return {\n    globalSetup: '/path/to/globalSetup.js',\n    globalTeardown: '/path/to/globalTeardown.js',\n    reporters: ['/path/to/reporter.js'],\n    /* ... jest config ... */\n  };\n};\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"If a ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/configuration#globalsetup-string"},(0,a.kt)("inlineCode",{parentName:"a"},"globalSetup"))," handler is defined, it is resolved and executed in the main process:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = async function () {\n  // ... global setup code ...\n};\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"The next come ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/configuration#reporters-arraymodulename--modulename-options"},(0,a.kt)("inlineCode",{parentName:"a"},"reporters")),", one of the longest-lived entities in the test session. After instantiating reporters, Jest calls their ",(0,a.kt)("inlineCode",{parentName:"p"},"onRunStart")," method:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class Reporter {\n  async onRunStart(aggregatedResults, options) {\n    // ... reporter code ...\n  }\n\n  // ...\n};\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"If Jest is not running in band (see ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/cli#--runinband"},(0,a.kt)("inlineCode",{parentName:"a"},"-i, --runInBand")),"), and if it has ",(0,a.kt)("em",{parentName:"p"},"N")," ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/configuration#maxworkers-number--string"},"workers")," (",(0,a.kt)("em",{parentName:"p"},"N > 1"),"), then it spawns ",(0,a.kt)("em",{parentName:"p"},"N")," child processes that keep taking test files one after another, running their tests inside and reporting back to the reporters:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class Reporter {\n  async onTestFileResult(test, testResult, aggregatedResult) {\n    // ... reporter code ...\n  }\n\n  // ...\n};\n")),(0,a.kt)("p",{parentName:"li"},"Otherwise, Jest runs the tests in the main process without spawning any other processes. The reporting flow remains the same:"),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{alt:"UML sequence diagram",src:i(6086).Z,width:"591",height:"616"}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"After all the tests have been executed, Jest calls ",(0,a.kt)("inlineCode",{parentName:"p"},"onRunComplete")," in the reporters. This is the last time when a reporter can take control:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class Reporter {\n  async onRunComplete(testContexts, results) {\n    // ... reporter code ...\n  }\n\n  // ...\n};\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"The last checkpoint controlled by the user is the global teardown. If a ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/configuration#globalteardown-string"},(0,a.kt)("inlineCode",{parentName:"a"},"globalTeardown"))," handler is defined, it is resolved and executed in the main process:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = async function () {\n  // ... global teardown code ...\n};\n")))),(0,a.kt)("h3",{id:"detox-lifecycle"},"Detox lifecycle"),(0,a.kt)("p",null,"Ideally, any test runner integration should provide Detox CLI with information about failed test files.\nThis information powers the ",(0,a.kt)("a",{parentName:"p",href:"../config/testRunner#testrunnerretries-number"},"retry mechanism"),", built into Detox CLI, which can retry specific failed test files a few times, e.g. to tackle occasional flakiness on CI."),(0,a.kt)("p",null,"This means that Detox context should live longer than any test runner, and the test runner should have means to report back to Detox CLI, whereas the resulting child process hierarchy can be broad and multi-tiered:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-plain",metastring:"text",text:!0},"\u2514\u2500\u2500 detox test ...\n    \u2514\u2500\u2500 jest ... --maxWorkers N\n        \u251c\u2500\u2500 jest-worker (1)\n        \u251c\u2500\u2500 ...\n        \u2514\u2500\u2500 jest-worker (N)\n")),(0,a.kt)("p",null,"Even we run Jest directly, without Detox CLI, there's still a one-to-many relationship between its processes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-plain",metastring:"text",text:!0},"\u2514\u2500\u2500 jest ... --maxWorkers N\n    \u251c\u2500\u2500 jest-worker (1)\n    \u251c\u2500\u2500 ...\n    \u2514\u2500\u2500 jest-worker (N)\n")),(0,a.kt)("p",null,"If we want to be on the safe side, every process should be able to communicate with the root process, where we have the primary context of Detox, and vice versa.\nRetrying failed tests is just one of numerous needs, and there are more:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the primary context (and workers themselves, at times) needs to know how many workers are there;"),(0,a.kt)("li",{parentName:"ul"},"the workers should request from the primary context to allocate a device and return it back when they are done;"),(0,a.kt)("li",{parentName:"ul"},"any secondary context should be able to tell whether this is a first time it is running, or it is an ",(0,a.kt)("em",{parentName:"li"},"N"),"-th attempt already;")),(0,a.kt)("p",null,"This list can be continued and might expand even more with time, but the point is that Detox will get instantiated as many times as child processes are created during the test session, and it should be something trivial to synchronize the primary and the secondary contexts to ensure a seamless experience."),(0,a.kt)("p",null,'It is worth mentioning that Jest\'s main process is ill-suited for taking a device and running the tests, as its purpose is to orchestrate the entire test session and not run the tests themselves.\nThis means that not all secondary contexts of Detox are "born equal" \u2013 some will be allocating a device for running tests, but some will be merely communicating with the primary context.'),(0,a.kt)("p",null,"This is exactly the reason why it is possible call ",(0,a.kt)("a",{parentName:"p",href:"#initoptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"init({ workerId: null })"))," and avoid creating a worker.\nHowever, initializing Detox without a worker does not mean we're not going to ",(0,a.kt)("a",{parentName:"p",href:"#installworkeroptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"installWorker()"))," later. For example, if it turns out that Jest is running in a single process, then instead of creating two contexts within the same process, we're going to reuse the existing one and just supplement it with the worker itself."),(0,a.kt)("p",null,"There's one more implicit thing that happens at the very beginning of ",(0,a.kt)("a",{parentName:"p",href:"#initoptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"init([options])"))," method, and this is the config resolution. It has been also extracted into a separate method, ",(0,a.kt)("a",{parentName:"p",href:"#resolveconfigoptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"resolveConfig([options])")),", but the motivation is different there, and we'll explain it now."),(0,a.kt)("p",null,"When you use the test runner directly, without Detox CLI, e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"jest \u2026")," instead of ",(0,a.kt)("inlineCode",{parentName:"p"},"detox test \u2026"),", then the test runner config gets resolved earlier than Detox config itself. That creates a dangerous scenario:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="jest.config.js"',title:'"jest.config.js"'},"const { config } = require('detox/internals');\n\nmodule.exports = async () => {\n  if (config.device.type === 'ios.simulator') {\n    return { /* iOS-specific preset */ };\n  } else {\n    return { /* Android-specific preset */ };\n  }\n};\n")),(0,a.kt)("p",null,"The problem in this case is that we are accessing an unresolved (yet) config. Of course, one could assume that it is possible to overcome with a plain ",(0,a.kt)("a",{parentName:"p",href:"#initoptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"init()"))," call like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="bad-idea.config.js"',title:'"bad-idea.config.js"'},"const { init, config } = require('detox/internals');\n\nmodule.exports = async () => {\n  await init();\n\n  if (config.device.type === 'ios.simulator') {\n    // ... use config now ...\n  }\n};\n")),(0,a.kt)("p",null,"But this is rather a bad solution, since Jest config resolution is an asymmetrical step compared to ",(0,a.kt)("inlineCode",{parentName:"p"},"globalSetup")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"globalTeardown"),". While solving one problem, it creates another one. Consider running this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"jest --config bad-idea.config.js --showConfig\n")),(0,a.kt)("p",null,"For reference, when Jest runs with a ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/cli#--showconfig"},(0,a.kt)("inlineCode",{parentName:"a"},"--showConfig"))," option, all it does is ",(0,a.kt)("em",{parentName:"p"},"to resolve the config and to print it"),". Hence, neither ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/configuration#globalsetup-string"},(0,a.kt)("inlineCode",{parentName:"a"},"globalSetup"))," nor ",(0,a.kt)("a",{parentName:"p",href:"https://jestjs.io/docs/configuration#globalteardown-string"},(0,a.kt)("inlineCode",{parentName:"a"},"globalTeardown"))," will be called, and the test runner will hang up since there's no one to call the ",(0,a.kt)("a",{parentName:"p",href:"#cleanup-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"detoxInternals.cleanup()"))," method which stops the ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Inter-process_communication"},"IPC server")," used for the communication between the primary and the secondary contexts."),(0,a.kt)("p",null,"Still, we have to be able to access the config early, and that is exactly why ",(0,a.kt)("a",{parentName:"p",href:"#initoptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"init()"))," method is a composite of ",(0,a.kt)("a",{parentName:"p",href:"#resolveconfigoptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"resolveConfig()")),", the ",(0,a.kt)("em",{parentName:"p"},"actual")," init, and ",(0,a.kt)("a",{parentName:"p",href:"#installworkeroptions-promise"},(0,a.kt)("inlineCode",{parentName:"a"},"installWorker()")),". We could describe what it does on the high level with the following pseudocode:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"async function init(options = {}) {\n  config = config || await resolveConfig();\n\n  await logger.init(config);\n  await ipcServer.init(config);\n  // ... init more things  ...\n\n  if (options.workerId != null) {\n    await installWorker();\n  }\n}\n")),(0,a.kt)("p",null,"In other words, it will resolve config only if it has not been resolved before, and install a worker unless it has been forbidden explicitly.\nBesides, in any case, we can install the worker later if we ever need it."),(0,a.kt)("p",null,"Now, when many details are clarified, we can review the actual sequence diagrams step by step. There are four scenarios depending on the initiator (Detox CLI or the test runner itself) and on child process hierarchy (a single process or parent-children)."),(0,a.kt)("p",null,"A few words about the diagram and its conventions:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The ",(0,a.kt)("inlineCode",{parentName:"li"},"ClassName.0"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"ClassName.1"),", \u2026, ",(0,a.kt)("inlineCode",{parentName:"li"},"ClassName.N")," suffixes mean the index of the instance of the class created."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"DetoxCircusEnvironment.N")," is our custom ",(0,a.kt)("a",{parentName:"li",href:"https://jestjs.io/docs/configuration#testenvironment-string"},(0,a.kt)("inlineCode",{parentName:"a"},"testEnvironment"))," created one or multiple times in every Jest worker. Make sure to read about Jest ",(0,a.kt)("a",{parentName:"li",href:"https://jestjs.io/docs/configuration#testenvironment-string"},"test environments")," and look at the example section there for better understanding.")),(0,a.kt)(o.Z,{mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"detox test \u2026 --maxWorkers N",mdxType:"TabItem"},(0,a.kt)(s,{mdxType:"LifecycleManyWorkersCLI"})),(0,a.kt)(l.Z,{value:"jest \u2026 --maxWorkers N",mdxType:"TabItem"},(0,a.kt)(d,{mdxType:"LifecycleManyWorkersJest"})),(0,a.kt)(l.Z,{value:"detox test \u2026 --runInBand",mdxType:"TabItem"},(0,a.kt)(p,{mdxType:"LifecycleSingleWorkerCLI"})),(0,a.kt)(l.Z,{value:"jest \u2026 --runInBand",mdxType:"TabItem"},(0,a.kt)(u,{mdxType:"LifecycleSingleWorkerJest"}))),(0,a.kt)("h2",{id:"methods"},"Methods"),(0,a.kt)("h3",{id:"resolveconfigoptions-promise"},(0,a.kt)("inlineCode",{parentName:"h3"},"resolveConfig([options])")," ","[","Promise]"),(0,a.kt)("p",null,"Use with a caution, when you still have no config, yet need to avoid ",(0,a.kt)("a",{parentName:"p",href:"#initoptions-promise"},"init()")," call."),(0,a.kt)("p",null,"You normally don\u2019t need it if you use Detox CLI (",(0,a.kt)("inlineCode",{parentName:"p"},"detox test \u2026"),"), but if you want to start tests\ndirectly, and you need to have the config resolved before ",(0,a.kt)("a",{parentName:"p",href:"#initoptions-promise"},"init()")," is called, this\nis the way to go."),(0,a.kt)("h3",{id:"getstatus-enum"},(0,a.kt)("inlineCode",{parentName:"h3"},"getStatus()")," ","[","enum]"),(0,a.kt)("p",null,"Returns a string (",(0,a.kt)("inlineCode",{parentName:"p"},"inactive"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"init"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"active")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"cleanup"),") depending on what\u2019s going on."),(0,a.kt)("h3",{id:"initoptions-promise"},(0,a.kt)("inlineCode",{parentName:"h3"},"init([options])")," ","[","Promise]"),(0,a.kt)("p",null,"This is the phase where Detox reads its configuration, starts a server."),(0,a.kt)("h3",{id:"installworkeroptions-promise"},(0,a.kt)("inlineCode",{parentName:"h3"},"installWorker([options])")," ","[","Promise]"),(0,a.kt)("p",null,"This is the phase where Detox loads its expectation library and starts a device."),(0,a.kt)("h3",{id:"uninstallworker-promise"},(0,a.kt)("inlineCode",{parentName:"h3"},"uninstallWorker()")," ","[","Promise]"),(0,a.kt)("p",null,"Deallocates the device."),(0,a.kt)("h3",{id:"cleanup-promise"},(0,a.kt)("inlineCode",{parentName:"h3"},"cleanup()")," ","[","Promise]"),(0,a.kt)("p",null,"The global cleanup phase should happen after all the tests have finished.\nThis is the phase where the Detox server shuts down."),(0,a.kt)("h2",{id:"optional-lifecycle"},"Optional lifecycle"),(0,a.kt)("h3",{id:"synchronizing-with-artifacts-manager"},"Synchronizing with artifacts manager"),(0,a.kt)("p",null,"The naming you can see adheres much to Jest Circus workflow:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onRunStart")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onRunDescribeStart")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onTestStart")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onHookStart")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onHookFailure")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onHookSuccess")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onTestFnStart")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onTestFnFailure")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onTestFnSuccess")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onTestDone")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onRunDescribeFinish")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onRunFinish"))),(0,a.kt)("h3",{id:"reporting-test-results"},"Reporting test results"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"reportTestResults")," reports to Detox CLI about failed tests that could\nhave been re-run if ",(0,a.kt)("inlineCode",{parentName:"p"},"--retries")," is set to a non-zero."),(0,a.kt)("p",null,"It takes one argument, an array of test file reports. Each report is an object with the following properties:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"testFilePath")," (string) \u2014 global or relative path to the failed test file;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"success")," (boolean) \u2014 whether the test passed or not;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"testExecError")," (optional error) \u2014 top-level error if the entire test file failed;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"isPermanentFailure")," (optional boolean) \u2014 if the test failed, it should tell whether the failure is permanent. Permanent failure means that the test file should not be re-run.")),(0,a.kt)("h2",{id:"properties"},"Properties"),(0,a.kt)("h3",{id:"config"},"config"),(0,a.kt)("h3",{id:"session"},"session"),(0,a.kt)("h3",{id:"log"},"log"),(0,a.kt)("h3",{id:"tracing"},(0,a.kt)("inlineCode",{parentName:"h3"},"tracing")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"tracing.createEventStream()")," \u2013 creates a readable stream of the currently recorded events in\n",(0,a.kt)("a",{parentName:"p",href:"https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU"},"Chrome Trace Event format"),"."),(0,a.kt)("p",null,"See also: ",(0,a.kt)("a",{parentName:"p",href:"https://wix-incubator.github.io/trace-event-lib/interfaces/DurationBeginEvent.html"},(0,a.kt)("inlineCode",{parentName:"a"},"DurationBeginEvent")),", ",(0,a.kt)("a",{parentName:"p",href:"https://wix-incubator.github.io/trace-event-lib/interfaces/DurationEndEvent.html"},(0,a.kt)("inlineCode",{parentName:"a"},"DurationEndEvent")),", ",(0,a.kt)("a",{parentName:"p",href:"https://wix-incubator.github.io/trace-event-lib/interfaces/InstantEvent.html"},(0,a.kt)("inlineCode",{parentName:"a"},"InstantEvent")),"."),(0,a.kt)("h3",{id:"worker"},"worker"),(0,a.kt)("p",null,"Not documented on purpose. Provides the direct access to the object which\nholds the device driver, websocket client, matchers, expectations, etc."))}b.isMDXComponent=!0},8697:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/boot-cli-many-workers-5dc3f439f573d5847c9d3eaa84a441f5.svg"},2066:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/boot-cli-single-worker-34704b9de651293cd71cb2b4b2bb9f0f.svg"},6771:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/boot-jest-many-workers-7326ef9927f2672fb527056b67978953.svg"},945:(e,t,i)=>{i.d(t,{Z:()=>n});const n="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1MzZweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU3NXB4O2hlaWdodDo1MzZweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NzUgNTM2IiB3aWR0aD0iNTc1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMyNC40MTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSIxNDguNSIgeT0iMTEyLjc5ODgiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI5NS4xMDU1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iMjc4LjUiIHk9IjE0Mi4xMDk0Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIxNDYuNTUyNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjQ2MiIgeT0iMjU0LjM1MTYiLz48cmVjdCBoZWlnaHQ9IjE5My4xNzM4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTtmaWxsOm5vbmU7IiB3aWR0aD0iNDY1IiB4PSIxMDQuNSIgeT0iMjE1LjczMDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjIzIiB4Mj0iMjMiIHkxPSI4MS40ODgzIiB5Mj0iNDU1LjIxNDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjE1My41IiB4Mj0iMTUzLjUiIHkxPSI4MS40ODgzIiB5Mj0iNDU1LjIxNDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjI4My41IiB4Mj0iMjgzLjUiIHkxPSI4MS40ODgzIiB5Mj0iNDU1LjIxNDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjQ2Ni41IiB4Mj0iNDY2LjUiIHkxPSI4MS40ODgzIiB5Mj0iNDU1LjIxNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iNSIgeT0iNzguNTM1MiI+VXNlcjwvdGV4dD48ZWxsaXBzZSBjeD0iMjMuNSIgY3k9IjEzLjUiIGZpbGw9IiNFMkUyRjAiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTIzLjUsMjEuNSBMMjMuNSw0OC41IE0xMC41LDI5LjUgTDM2LjUsMjkuNSBNMjMuNSw0OC41IEwxMC41LDYzLjUgTTIzLjUsNDguNSBMMzYuNSw2My41ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzEiIHg9IjUiIHk9IjQ2Ny43NSI+VXNlcjwvdGV4dD48ZWxsaXBzZSBjeD0iMjMuNSIgY3k9IjQ3OS4yMDMxIiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yMy41LDQ4Ny4yMDMxIEwyMy41LDUxNC4yMDMxIE0xMC41LDQ5NS4yMDMxIEwzNi41LDQ5NS4yMDMxIE0yMy41LDUxNC4yMDMxIEwxMC41LDUyOS4yMDMxIE0yMy41LDUxNC4yMDMxIEwzNi41LDUyOS4yMDMxICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIiIHg9IjExNC41IiB5PSI3OC41MzUyIj5KZXN0IChtYWluKTwvdGV4dD48cGF0aCBkPSJNMTMzLDM3IEwxMzMsNjEgTTEzMyw0OSBMMTUwLDQ5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGVsbGlwc2UgY3g9IjE2MiIgY3k9IjQ5IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIiIHg9IjExNC41IiB5PSI0NjcuNzUiPkplc3QgKG1haW4pPC90ZXh0PjxwYXRoIGQ9Ik0xMzMsNDc0LjcwMzEgTDEzMyw0OTguNzAzMSBNMTMzLDQ4Ni43MDMxIEwxNTAsNDg2LjcwMzEgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48ZWxsaXBzZSBjeD0iMTYyIiBjeT0iNDg2LjcwMzEiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjQ4ODMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2MiIgeD0iMjAyLjUiIHk9IjUwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ4IiB4PSIyMDkuNSIgeT0iNzAuNTM1MiI+RGV0b3hQcmltYXJ5Q29udGV4dDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjQ4ODMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2MiIgeD0iMjAyLjUiIHk9IjQ1NC4yMTQ4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ4IiB4PSIyMDkuNSIgeT0iNDc0Ljc1Ij5EZXRveFByaW1hcnlDb250ZXh0PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuNDg4MyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTg1IiB4PSIzNzQuNSIgeT0iNTAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzEiIHg9IjM4MS41IiB5PSI3MC41MzUyIj5EZXRveENpcmN1c0Vudmlyb25tZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuNDg4MyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTg1IiB4PSIzNzQuNSIgeT0iNDU0LjIxNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzEiIHg9IjM4MS41IiB5PSI0NzQuNzUiPkRldG94Q2lyY3VzRW52aXJvbm1lbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIzMjQuNDE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iMTQ4LjUiIHk9IjExMi43OTg4Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIyOTUuMTA1NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjI3OC41IiB5PSIxNDIuMTA5NCIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMTQ2LjU1MjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI0NjIiIHk9IjI1NC4zNTE2Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzYuNSwxMDguNzk4OCwxNDYuNSwxMTIuNzk4OCwxMzYuNSwxMTYuNzk4OCwxNDAuNSwxMTIuNzk4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjMuNSIgeDI9IjE0Mi41IiB5MT0iMTEyLjc5ODgiIHkyPSIxMTIuNzk4OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNiIgeD0iMzAuNSIgeT0iMTA4LjA1NjYiPmplc3QgLS1ydW5JbkJhbmQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjYuNSwxMzguMTA5NCwyNzYuNSwxNDIuMTA5NCwyNjYuNSwxNDYuMTA5NCwyNzAuNSwxNDIuMTA5NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTU4LjUiIHgyPSIyNzIuNSIgeTE9IjE0Mi4xMDk0IiB5Mj0iMTQyLjEwOTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NCIgeD0iMTY1LjUiIHk9IjEzNy4zNjcyIj5yZXF1aXJlKCdkZXRveCcpPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY2LjUsMTY3LjQxOTksMjc2LjUsMTcxLjQxOTksMjY2LjUsMTc1LjQxOTksMjcwLjUsMTcxLjQxOTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE1OC41IiB4Mj0iMjcyLjUiIHkxPSIxNzEuNDE5OSIgeTI9IjE3MS40MTk5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTUiIHg9IjE2NS41IiB5PSIxNjYuNjc3NyI+cmVzb2x2ZUNvbmZpZygpPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY2LjUsMTk2LjczMDUsMjc2LjUsMjAwLjczMDUsMjY2LjUsMjA0LjczMDUsMjcwLjUsMjAwLjczMDUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE1OC41IiB4Mj0iMjcyLjUiIHkxPSIyMDAuNzMwNSIgeTI9IjIwMC43MzA1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjkiIHg9IjE2NS41IiB5PSIxOTUuOTg4MyI+aW5pdCgpPC90ZXh0PjxwYXRoIGQ9Ik0xMDQuNSwyMTUuNzMwNSBMMTc4LjUsMjE1LjczMDUgTDE3OC41LDIyMy4wNDEgTDE2OC41LDIzMy4wNDEgTDEwNC41LDIzMy4wNDEgTDEwNC41LDIxNS43MzA1ICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxOTMuMTczOCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNDY1IiB4PSIxMDQuNSIgeT0iMjE1LjczMDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjkiIHg9IjExOS41IiB5PSIyMjkuMjk4OCI+bG9vcDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUiIHg9IjE5My41IiB5PSIyMjguMzY1MiI+W2V2ZXJ5IHRlc3QgZmlsZV08L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NTAsMjUwLjM1MTYsNDYwLDI1NC4zNTE2LDQ1MCwyNTguMzUxNiw0NTQsMjU0LjM1MTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE1OC41IiB4Mj0iNDU2IiB5MT0iMjU0LjM1MTYiIHkyPSIyNTQuMzUxNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMzIiB4PSIxNjUuNSIgeT0iMjQ5LjYwOTQiPm5ldygpPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDUwLDI3OS42NjIxLDQ2MCwyODMuNjYyMSw0NTAsMjg3LjY2MjEsNDU0LDI4My42NjIxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNTguNSIgeDI9IjQ1NiIgeTE9IjI4My42NjIxIiB5Mj0iMjgzLjY2MjEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MyIgeD0iMTY1LjUiIHk9IjI3OC45MTk5Ij5zZXR1cCgpPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjk5LjUsMzA4Ljk3MjcsMjg5LjUsMzEyLjk3MjcsMjk5LjUsMzE2Ljk3MjcsMjk1LjUsMzEyLjk3MjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI5My41IiB4Mj0iNDYxIiB5MT0iMzEyLjk3MjciIHkyPSIzMTIuOTcyNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxIiB4PSIzMDUuNSIgeT0iMzA4LjIzMDUiPmluc3RhbGxXb3JrZXIoKTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ1MCwzMzguMjgzMiw0NjAsMzQyLjI4MzIsNDUwLDM0Ni4yODMyLDQ1NCwzNDIuMjgzMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTU4LjUiIHgyPSI0NTYiIHkxPSIzNDIuMjgzMiIgeTI9IjM0Mi4yODMyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMiIHg9IjE2NS41IiB5PSIzMzcuNTQxIj5ydW4gdGVzdCBmaWxlPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDUwLDM2Ny41OTM4LDQ2MCwzNzEuNTkzOCw0NTAsMzc1LjU5MzgsNDU0LDM3MS41OTM4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNTguNSIgeDI9IjQ1NiIgeTE9IjM3MS41OTM4IiB5Mj0iMzcxLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NiIgeD0iMTY1LjUiIHk9IjM2Ni44NTE2Ij50ZWFyZG93bigpPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjk5LjUsMzk2LjkwNDMsMjg5LjUsNDAwLjkwNDMsMjk5LjUsNDA0LjkwNDMsMjk1LjUsNDAwLjkwNDMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI5My41IiB4Mj0iNDY2IiB5MT0iNDAwLjkwNDMiIHkyPSI0MDAuOTA0MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNyIgeD0iMzA1LjUiIHk9IjM5Ni4xNjIxIj51bmluc3RhbGxXb3JrZXIoKTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI3MS41LDQzMy4yMTQ4LDI4MS41LDQzNy4yMTQ4LDI3MS41LDQ0MS4yMTQ4LDI3NS41LDQzNy4yMTQ4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNTMuNSIgeDI9IjI3Ny41IiB5MT0iNDM3LjIxNDgiIHkyPSI0MzcuMjE0OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU3IiB4PSIxNjAuNSIgeT0iNDMyLjQ3MjciPmNsZWFudXAoKTwvdGV4dD48IS0tTUQ1PVtkNzIzZjg2ZWY4NzJhOTQ5MmQ0MjVlMjIwOTE2ZjRiNl0KQHN0YXJ0dW1sDQoNCmFjdG9yIFVzZXINCmJvdW5kYXJ5ICJKZXN0IChtYWluKSIgYXMgSmVzdDANCnBhcnRpY2lwYW50ICJEZXRveFByaW1hcnlDb250ZXh0IiBhcyBQcmkNCnBhcnRpY2lwYW50ICJEZXRveENpcmN1c0Vudmlyb25tZW50IiBhcyBFbnYNCg0KVXNlciAtPiBKZXN0MCA6IGplc3QgLSAtcnVuSW5CYW5kDQphY3RpdmF0ZSBKZXN0MA0KSmVzdDAgLT4gUHJpOiByZXF1aXJlKCdkZXRveCcpDQphY3RpdmF0ZSBQcmkNCkplc3QwIC0+IFByaTogcmVzb2x2ZUNvbmZpZygpDQpKZXN0MCAtPiBQcmk6IGluaXQoKQ0KbG9vcCBldmVyeSB0ZXN0IGZpbGUNCiAgSmVzdDAgLT4gRW52OiBuZXcoKQ0KICBhY3RpdmF0ZSBFbnYNCiAgSmVzdDAgLT4gRW52OiBzZXR1cCgpDQogIEVudiAtPiBQcmk6IGluc3RhbGxXb3JrZXIoKQ0KICBKZXN0MCAtPiBFbnY6IHJ1biB0ZXN0IGZpbGUNCiAgSmVzdDAgLT4gRW52OiB0ZWFyZG93bigpDQogIEVudiAtPiBQcmk6IHVuaW5zdGFsbFdvcmtlcigpDQogIGRlYWN0aXZhdGUgRW52DQplbmQgbG9vcA0KSmVzdDAgLT4gUHJpOiBjbGVhbnVwKCkNCmRlYWN0aXZhdGUgUHJpDQpkZWFjdGl2YXRlIEplc3QwDQoNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMi42KFR1ZSBKdW4gMjEgMjA6MzQ6NDkgRUVTVCAyMDIyKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogT3BlbkpESyBSdW50aW1lIEVudmlyb25tZW50CkpWTTogT3BlbkpESyA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiBlbgpDb3VudHJ5OiBVQQotLT48L2c+PC9zdmc+"},6086:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/jest-diagram-runInBand-b0e7564080d4f6a0a03e4dbcf6b0da7f.svg"},1183:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/jest-diagram-d957dd3e62301816b44197ef0a4abee0.svg"}}]);