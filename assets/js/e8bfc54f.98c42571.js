"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[161],{8960:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var o=n(7462),a=(n(7294),n(3905)),i=n(1787);const l={},r="Behavior",s={unversionedId:"config/behavior",id:"config/behavior",title:"Behavior",description:"If you need to tweak the flow of detox.init() or detox.cleanup() steps,",source:"@site/../docs/config/behavior.mdx",sourceDirName:"config",slug:"/config/behavior",permalink:"/Detox/docs/next/config/behavior",draft:!1,editUrl:"https://github.com/wix/Detox/edit/master/docs/../docs/config/behavior.mdx",tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"Artifacts",permalink:"/Detox/docs/next/config/artifacts"},next:{title:"Logger",permalink:"/Detox/docs/next/config/logger"}},p={},c=[{value:"Location",id:"location",level:2},{value:"Default values",id:"default-values",level:2},{value:"Customization",id:"customization",level:2}],u={toc:c};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"behavior"},"Behavior"),(0,a.kt)("p",null,"If you need to tweak the flow of ",(0,a.kt)("inlineCode",{parentName:"p"},"detox.init()")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"detox.cleanup()")," steps,\nyou have a few options to change. These are the default behavior values:"),(0,a.kt)("h2",{id:"location"},"Location"),(0,a.kt)(i.ZP,{sectionName:"behavior",mdxType:"Location"}),(0,a.kt)("h2",{id:"default-values"},"Default values"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "behavior": {\n    "init": {\n      "reinstallApp": true,\n      "exposeGlobals": true\n    },\n    "launchApp": "auto",\n    "cleanup": {\n      "shutdownDevice": false\n    }\n  }\n}\n')),(0,a.kt)("h2",{id:"customization"},"Customization"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},'launchApp: "auto"')," setting can be changed to ",(0,a.kt)("inlineCode",{parentName:"p"},'"manual"')," for cases when you want to ",(0,a.kt)("a",{parentName:"p",href:"/Detox/docs/next/introduction/debugging"},"debug the\nnative codebase")," when running Detox tests. When set to ",(0,a.kt)("inlineCode",{parentName:"p"},"manual"),", it also\nchanges the default value of ",(0,a.kt)("inlineCode",{parentName:"p"},"reinstallApp")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,a.kt)("p",null,"Setting ",(0,a.kt)("inlineCode",{parentName:"p"},"reinstallApp: false")," will make the tests reuse the currently installed app on the device,\nprovided you have installed it beforehand explicitly or manually."),(0,a.kt)("p",null,"If you do not wish to leak Detox globals (",(0,a.kt)("inlineCode",{parentName:"p"},"expect"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"device"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"by"),", etc.) to the global\nscope, you can set ",(0,a.kt)("inlineCode",{parentName:"p"},'"exposeGlobals": false')," and destructure them respectively from the\nexported Detox interface:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { by, device, expect, element } from 'detox'; // TypeScript\nconst { by, device, expect, element } = require('detox'); // CommonJS\n")),(0,a.kt)("p",null,"Also, you can override the behavior in specific Detox configurations:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "behavior": {\n    // ... global behavior ...\n  },\n  "configurations": {\n    "ios.manual": {\n      "behavior": {\n        // ... overrides ...\n        "launchApp": "manual"\n        // ... overrides ...\n      }\n    }\n  }\n}\n')))}d.isMDXComponent=!0},1787:(e,t,n)=>{n.d(t,{ZP:()=>r});var o=n(7462),a=(n(7294),n(3905)),i=n(814);const l={toc:[]};function r(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"You can define the ",(0,a.kt)("code",null,n.sectionName)," config section in two ways: ",(0,a.kt)("i",null,"globally")," and ",(0,a.kt)("i",null,"locally")," (per a configuration):"),(0,a.kt)(i.Z,{title:".detoxrc.js",language:"javascript",mdxType:"CodeBlock"},["/** @type {Detox.DetoxConfig} */","module.exports = {","// highlight-start",`  ${n.sectionName}: {`,"    /* global section */","  },","// highlight-end","  devices: { /* \u2026 */ },","  apps: { /* \u2026 */ },","  configurations: {","    'ios.sim.debug': {","      device: 'iphone',","      app: 'ios.debug',","// highlight-start",`      ${n.sectionName}: {`,"        /* local (per-configuration) section */","      },","// highlight-end","    },","  },","};"].join("\n")))}r.isMDXComponent=!0}}]);