"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1452],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return n?a.createElement(h,i(i({ref:t},u),{},{components:n})):a.createElement(h,i({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(7294),o=n(6010);const r="tabItem_Ymn6";function i(e){let{children:t,hidden:n,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(r,i),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7462),o=n(7294),r=n(6010),i=n(2389),l=n(7392),s=n(7094),p=n(2466);const u="tabList__CuJ",c="tabItem_LNqP";function d(e){var t;const{lazy:n,block:i,defaultValue:d,values:m,groupId:h,className:b}=e,k=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=m??k.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),v=(0,l.l)(f,((e,t)=>e.value===t.value));if(v.length>0)throw new Error(`Docusaurus error: Duplicate values "${v.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===d?d:d??(null==(t=k.find((e=>e.props.default)))?void 0:t.props.value)??k[0].props.value;if(null!==y&&!f.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:x,setTabGroupChoices:g}=(0,s.U)(),[w,N]=(0,o.useState)(y),T=[],{blockElementScrollPositionUntilNextRender:D}=(0,p.o5)();if(null!=h){const e=x[h];null!=e&&e!==w&&f.some((t=>t.value===e))&&N(e)}const O=e=>{const t=e.currentTarget,n=T.indexOf(t),a=f[n].value;a!==w&&(D(t),N(a),null!=h&&g(h,String(a)))},E=e=>{var t;let n=null;switch(e.key){case"Enter":O(e);break;case"ArrowRight":{const t=T.indexOf(e.currentTarget)+1;n=T[t]??T[0];break}case"ArrowLeft":{const t=T.indexOf(e.currentTarget)-1;n=T[t]??T[T.length-1];break}}null==(t=n)||t.focus()};return o.createElement("div",{className:(0,r.Z)("tabs-container",u)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":i},b)},f.map((e=>{let{value:t,label:n,attributes:i}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>T.push(e),onKeyDown:E,onClick:O},i,{className:(0,r.Z)("tabs__item",c,null==i?void 0:i.className,{"tabs__item--active":w===t})}),n??t)}))),n?(0,o.cloneElement)(k.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},k.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,i.Z)();return o.createElement(d,(0,a.Z)({key:String(t)},e))}},4013:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>d,default:()=>f,frontMatter:()=>c,metadata:()=>m,toc:()=>b});var a=n(7462),o=(n(7294),n(3905)),r=n(5488),i=n(5162);const l={toc:[]};function s(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Note",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Expo support with Detox is entirely a community driven effort. We have no specific support in Detox for Expo applications (ejected or otherwise).")),(0,o.kt)("p",null,"There are a few resources on the Internet covering how to set up Detox with Expo apps:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/fschoenfeldt/clean-expo-detox-testing"},"https://github.com/fschoenfeldt/clean-expo-detox-testing")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://toshev.medium.com/setting-up-detox-with-a-expo-managed-react-native-project-89342dce4df"},"https://toshev.medium.com/setting-up-detox-with-a-expo-managed-react-native-project-89342dce4df")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://blog.expo.dev/testing-expo-apps-with-detox-and-react-native-testing-library-7fbdbb82ac87"},"https://blog.expo.dev/testing-expo-apps-with-detox-and-react-native-testing-library-7fbdbb82ac87"))),(0,o.kt)("p",null,"Unfortunately, we have no capacity to maintain this direction and hold no responsibility for content and\nquality of the mentioned or another available resources."),(0,o.kt)("p",null,"For support on how to use Detox with Expo, you should contact the Expo team or the Expo community. If you\nare seeing an issue, it is most likely not an issue with Detox itself, but with the Expo runtime or with\nan incorrect Detox setup. Genuine issues with Detox can be submitted to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/wix/Detox/issues"},"our issue tracker"),"\nas usual."),(0,o.kt)("p",null,"This introduction section is useful for Expo projects, but the next ",(0,o.kt)("a",{parentName:"p",href:"/Detox/docs/introduction/project-setup"},"Project Setup")," article, in particular, is ",(0,o.kt)("strong",{parentName:"p"},"not enough")," to complete the setup with Expo."))}s.isMDXComponent=!0;const p={toc:[]};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Note",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"At the moment, Detox does not support non-React Native apps on ",(0,o.kt)("strong",{parentName:"p"},"Android")," due to the blocking issues:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/wix/Detox/issues/2543"},"Restore support for pure-native/hybrid Projects")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/wix/Detox/issues/1220"},"cannot be cast to com.facebook.react.ReactApplication")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/wix/Detox/issues/1093"},"native android app Process crashes")))),(0,o.kt)("p",null,"However, native iOS apps are expected to work fine with Detox, and if that's your case, this introduction will help you in equal measure."))}u.isMDXComponent=!0;const c={},d="Environment Setup",m={unversionedId:"introduction/getting-started",id:"version-20.x/introduction/getting-started",title:"Environment Setup",description:"Welcome to Detox!",source:"@site/versioned_docs/version-20.x/introduction/getting-started.mdx",sourceDirName:"introduction",slug:"/introduction/getting-started",permalink:"/Detox/docs/introduction/getting-started",draft:!1,editUrl:"https://github.com/wix/Detox/edit/master/docs/versioned_docs/version-20.x/introduction/getting-started.mdx",tags:[],version:"20.x",frontMatter:{},sidebar:"tutorialSidebar",next:{title:"Project Setup",permalink:"/Detox/docs/introduction/project-setup"}},h={},b=[{value:"React Native CLI Quickstart",id:"react-native-cli-quickstart",level:2},{value:"Detox Prerequisites",id:"detox-prerequisites",level:2},{value:"1. Command Line Tools (<code>detox-cli</code>)",id:"1-command-line-tools-detox-cli",level:3},{value:"2. MacOS Only <code>applesimutils</code>",id:"2-macos-only-applesimutils",level:3}],k={toc:b};function f(e){let{components:t,...l}=e;return(0,o.kt)("wrapper",(0,a.Z)({},k,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"environment-setup"},"Environment Setup"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Welcome to Detox!")),(0,o.kt)("p",null,"The ",(0,o.kt)("em",{parentName:"p"},"Introduction section")," walks you through setting up Detox in your project, one step at a time."),(0,o.kt)("p",null,"You will find that some steps are longer than the others: some are a couple of paragraphs, while the others look like a dedicated multistep guide.\nBear with us - it is all necessary, and once set up, it is easy to move forward with writing tests at a high pace."),(0,o.kt)("p",null,"Please select type of your mobile application before you start the tutorial:"),(0,o.kt)(r.Z,{groupId:"appType",mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"start-rn",label:"React Native",default:!0,mdxType:"TabItem"}),(0,o.kt)(i.Z,{value:"start-expo",label:"Expo",mdxType:"TabItem"},(0,o.kt)(s,{mdxType:"IntroExpo"})),(0,o.kt)(i.Z,{value:"start-other",label:"Other",mdxType:"TabItem"},(0,o.kt)(u,{mdxType:"IntroOther"}))),(0,o.kt)("h2",{id:"react-native-cli-quickstart"},"React Native CLI Quickstart"),(0,o.kt)("p",null,"Your first step would be to complete the\n",(0,o.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/next/environment-setup"},"\ud83d\udcda React Native CLI Quickstart Guide"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(2211).Z,width:"1116",height:"405"})),(0,o.kt)("p",null,"Open the link above and switch there to ",(0,o.kt)("b",null,"React Native CLI Quickstart")," tab to see the interactive tutorial for ",(0,o.kt)("b",null,"Development OS")," and ",(0,o.kt)("b",null,"Target OS")," of your choice."),(0,o.kt)("p",null,"Follow all the steps ",(0,o.kt)("span",{style:{color:"red"}},"(yes, even if you have a native app!)")," and make sure you can create and run React Native apps on virtual testing devices."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(4889).Z,width:"600",height:"780"})),(0,o.kt)("h2",{id:"detox-prerequisites"},"Detox Prerequisites"),(0,o.kt)("p",null,"To complete the environment setup, you still have 2 steps ahead: installing ",(0,o.kt)("inlineCode",{parentName:"p"},"detox-cli")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"applesimutils"),"."),(0,o.kt)("h3",{id:"1-command-line-tools-detox-cli"},"1. Command Line Tools (",(0,o.kt)("inlineCode",{parentName:"h3"},"detox-cli"),")"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"detox-cli")," is merely a script that passes commands through to\na local Detox executable located at ",(0,o.kt)("inlineCode",{parentName:"p"},"node_modules/.bin/detox"),",\nmaking it easier to operate Detox from the command line, e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"detox test -c ios.sim.debug"),"."),(0,o.kt)("p",null,"It should be installed globally, enabling usage of the command line tools outside your npm scripts:"),(0,o.kt)(r.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install detox-cli --global\n"))),(0,o.kt)(i.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn global add detox-cli\n")))),(0,o.kt)("p",null,"On the other hand, if you are fine with running Detox commands with ",(0,o.kt)("inlineCode",{parentName:"p"},"npx detox ..."),", you may skip installing ",(0,o.kt)("inlineCode",{parentName:"p"},"detox-cli"),"."),(0,o.kt)("h3",{id:"2-macos-only-applesimutils"},"2. ","[MacOS Only]"," ",(0,o.kt)("inlineCode",{parentName:"h3"},"applesimutils")),(0,o.kt)("p",null,"This tool is ",(0,o.kt)("strong",{parentName:"p"},"required")," by Detox to work with iOS simulators. The recommended way to install\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/wix/AppleSimulatorUtils"},(0,o.kt)("inlineCode",{parentName:"a"},"applesimutils"))," is via ",(0,o.kt)("a",{parentName:"p",href:"https://brew.sh"},"Homebrew"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"brew tap wix/brew\nbrew install applesimutils\n")),(0,o.kt)("admonition",{title:"Note",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Make sure to periodically update your version of ",(0,o.kt)("inlineCode",{parentName:"p"},"applesimutils")," to the latest version.")),(0,o.kt)("p",null,"Now, when your environment is ready, let's move to the next section, ",(0,o.kt)("a",{parentName:"p",href:"/Detox/docs/introduction/project-setup"},"Project Setup"),"."))}f.isMDXComponent=!0},4889:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/rn-env-done-7e6ae38e1abc1558b2c280191a7425a8.png"},2211:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/rn-env-ff2580ce1cf001d1cad9dd3a507b97ab.png"}}]);