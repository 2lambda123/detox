"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6190],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(n),h=i,u=m["".concat(o,".").concat(h)]||m[h]||d[h]||r;return n?a.createElement(u,l(l({ref:t},p),{},{components:n})):a.createElement(u,l({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:i,l[1]=s;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},585:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const r={},l="Matchers",s={unversionedId:"api/matchers",id:"api/matchers",title:"Matchers",description:"Detox uses matchers to match UI elements in your app.",source:"@site/../docs/api/matchers.md",sourceDirName:"api",slug:"/api/matchers",permalink:"/Detox/docs/next/api/matchers",draft:!1,editUrl:"https://github.com/wix/Detox/edit/master/docs/../docs/api/matchers.md",tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"Device",permalink:"/Detox/docs/next/api/device"},next:{title:"Actions",permalink:"/Detox/docs/next/api/actions"}},o={},c=[{value:"Methods",id:"methods",level:2},{value:"<code>by.id(id)</code>",id:"byidid",level:3},{value:"<code>by.label(label)</code>",id:"bylabellabel",level:3},{value:"<code>by.text(text)</code>",id:"bytexttext",level:3},{value:"<code>by.type(className)</code>",id:"bytypeclassname",level:3},{value:"<code>by.traits([traits])</code> <strong>iOS Only</strong>",id:"bytraitstraits-ios-only",level:3},{value:"<code>withAncestor(matcher)</code>",id:"withancestormatcher",level:3},{value:"<code>withDescendant(matcher)</code>",id:"withdescendantmatcher",level:3},{value:"<code>and(matcher)</code>",id:"andmatcher",level:3},{value:"<code>atIndex(index)</code>",id:"atindexindex",level:3}],p={toc:c};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"matchers"},"Matchers"),(0,i.kt)("p",null,"Detox uses ",(0,i.kt)("a",{parentName:"p",href:"/Detox/docs/next/api/matchers"},"matchers")," to match UI elements in your app."),(0,i.kt)("p",null,"Use ",(0,i.kt)("a",{parentName:"p",href:"/Detox/docs/next/api/actions"},"actions")," to simulate use interaction with elements and ",(0,i.kt)("a",{parentName:"p",href:"/Detox/docs/next/api/expect"},"expectations")," to verify element states."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note:")," For best results, it is recommended to match elements by unique identifiers. Matching by text or labels can introduce test flakiness when your app\u2019s text change or when changing your app\u2019s localization."),(0,i.kt)("h2",{id:"methods"},"Methods"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#byidid"},(0,i.kt)("inlineCode",{parentName:"a"},"by.id()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#bylabellabel"},(0,i.kt)("inlineCode",{parentName:"a"},"by.label()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#bytexttext"},(0,i.kt)("inlineCode",{parentName:"a"},"by.text()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#bytypeclassname"},(0,i.kt)("inlineCode",{parentName:"a"},"by.type()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#bytraitstraits-ios-only"},(0,i.kt)("inlineCode",{parentName:"a"},"by.traits()"))," ",(0,i.kt)("strong",{parentName:"li"},"iOS Only")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#withancestormatcher"},(0,i.kt)("inlineCode",{parentName:"a"},"withAncestor()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#withdescendantmatcher"},(0,i.kt)("inlineCode",{parentName:"a"},"withDescendant()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#andmatcher"},(0,i.kt)("inlineCode",{parentName:"a"},"and()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#atindexindex"},(0,i.kt)("inlineCode",{parentName:"a"},"atIndex()")))),(0,i.kt)("h3",{id:"byidid"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.id(id)")),(0,i.kt)("p",null,"Match elements with the specified accessibility identifier. In React Native, this corresponds to the value in the ",(0,i.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/view.html#testid"},(0,i.kt)("inlineCode",{parentName:"a"},"testID"))," prop."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.id('tap_me'));\n")),(0,i.kt)("h3",{id:"bylabellabel"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.label(label)")),(0,i.kt)("p",null,"Match elements with the specified accessibility label (iOS) or content description (Android). In React Native, this corresponds to the value in the ",(0,i.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/accessibility#accessibilitylabel"},(0,i.kt)("inlineCode",{parentName:"a"},"accessibilityLabel"))," prop."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.label('Welcome'));\n")),(0,i.kt)("h3",{id:"bytexttext"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.text(text)")),(0,i.kt)("p",null,"Match elements with the specified text."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.text('Tap Me'));\n")),(0,i.kt)("h3",{id:"bytypeclassname"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.type(className)")),(0,i.kt)("p",null,"Matches elements whose class is, or inherits from, the specified class name. On Android, provide the class canonical name."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note:")," iOS and Android class names differ."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.type('RCTImageView')); //iOS class name\nelement(by.type('android.widget.ImageView')); //Android class canonical name\n")),(0,i.kt)("h3",{id:"bytraitstraits-ios-only"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.traits([traits])")," ",(0,i.kt)("strong",{parentName:"h3"},"iOS Only")),(0,i.kt)("p",null,"Matches elements by their ",(0,i.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/uikit/uiaccessibilityelement/1619584-accessibilitytraits"},"accessibility traits"),"."),(0,i.kt)("p",null,"Currently supported values:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'"none"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"button"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"link"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"header"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"searchField"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"image"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"selected"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"playsSound"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"keyboardKey"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"staticText"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"summaryElement"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"notEnabled"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"updatesFrequently"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"startsMediaSession"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"adjustable"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"allowsDirectInteraction"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"causesPageTurn"'),"\n",(0,i.kt)("inlineCode",{parentName:"p"},'"tabBar"')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.traits(['button']));\n")),(0,i.kt)("h3",{id:"withancestormatcher"},(0,i.kt)("inlineCode",{parentName:"h3"},"withAncestor(matcher)")),(0,i.kt)("p",null,"Matches elements with an ancestor that matches the specified matcher."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.id('child').withAncestor(by.id('parent')));\n")),(0,i.kt)("h3",{id:"withdescendantmatcher"},(0,i.kt)("inlineCode",{parentName:"h3"},"withDescendant(matcher)")),(0,i.kt)("p",null,"Matches elements with at least one descendant that matches the specified matcher."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.id('parent').withDescendant(by.id('child')));\n")),(0,i.kt)("h3",{id:"andmatcher"},(0,i.kt)("inlineCode",{parentName:"h3"},"and(matcher)")),(0,i.kt)("p",null,"Matches elements by combining several matchers together."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.id('uniqueId').and(by.text('some text')));\n")),(0,i.kt)("h3",{id:"atindexindex"},(0,i.kt)("inlineCode",{parentName:"h3"},"atIndex(index)")),(0,i.kt)("p",null,"If a matcher resolves into multiple matched UI elements, you may specify which element to use by its index."),(0,i.kt)("p",null,"On iOS, matched elements are sorted by their x and y axes."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note:")," Due to different underlying implementations of Detox on iOS and Android, as well as other differences in the OS implementations, as well as RN implementation differences on each OS, indices may not match between iOS and Android. Relying on indices may also introduce flakiness in your tests as your app\u2019s user interface is updated. It is recommended to use unique identifier matchers for your elements."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"element(by.text('Product')).atIndex(2);\n")))}d.isMDXComponent=!0}}]);